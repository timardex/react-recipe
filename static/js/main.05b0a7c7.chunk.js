(this.webpackJsonprecipe=this.webpackJsonprecipe||[]).push([[0],{37:function(e,n,t){},58:function(e,n,t){},59:function(e,n,t){},60:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(9),i=t.n(a),u=t(15),s=t(24),o=t(6),p=t(3),d=function(e,n){return Object(p.a)(Object(p.a)({},e),{},{recipes:n.payload.response,apiResponse:void 0,recipe:void 0})},l=function(e,n){return Object(p.a)(Object(p.a)({},e),{},{recipe:n.payload.response})},f=function(e,n){return Object(p.a)(Object(p.a)({},e),{},{apiResponse:n.payload.response.id})},j=function(e,n){return Object(p.a)(Object(p.a)({},e),{},{apiResponse:n.payload.response.message})},b=function(e,n){return Object(p.a)(Object(p.a)({},e),{},{apiResponse:n.payload.response.message,recipe:void 0})},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"GET_RECIPES":return d(e,n);case"GET_RECIPE":return l(e,n);case"POST_RECIPE":return f(e,n);case"DELETE_RECIPE":return j(e,n);case"PUT_RECIPE":return b(e,n);default:return e}},v=(t(37),t(2)),O=t.n(v),x=t(4),g=t(25),E=t(26),m=t(8),y=t.n(m),C=new(function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"getRequest",value:function(){var e=Object(x.a)(O.a.mark((function e(n){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get(n,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return t=e.sent,e.prev=3,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(n){return e.apply(this,arguments)}}()},{key:"putRequest",value:function(){var e=Object(x.a)(O.a.mark((function e(n,t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.put(n,t,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=e.sent,e.prev=3,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"postRequest",value:function(){var e=Object(x.a)(O.a.mark((function e(n,t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.post(n,t,{headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=e.sent,e.prev=3,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(n,t){return e.apply(this,arguments)}}()},{key:"deleteRequest",value:function(){var e=Object(x.a)(O.a.mark((function e(n,t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.delete(n,{data:t,headers:{Accept:"application/json","Content-Type":"application/json"}});case 2:return r=e.sent,e.prev=3,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(n,t){return e.apply(this,arguments)}}()}]),e}()),R="https://fastapi-crud.herokuapp.com/recipe/",k=function(){return function(){var e=Object(x.a)(O.a.mark((function e(n){var t,r,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.getRequest(R);case 3:t=e.sent,r=t.data,c={type:"GET_RECIPES",payload:{response:r}},setTimeout((function(){n(c)}),2e3),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a={type:"GET_RECIPES",payload:{response:e.t0}},n(a);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}()},w=function(e){return function(){var n=Object(x.a)(O.a.mark((function n(t){var r,c,a,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r="".concat(R).concat(e),n.next=4,C.getRequest(r);case 4:c=n.sent,a=c.data,t({type:"GET_RECIPE",payload:{response:a}}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),i={type:"GET_RECIPE",payload:{response:n.t0}},t(i);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},P=function(e){return function(){var n=Object(x.a)(O.a.mark((function n(t){var r,c,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.postRequest(R,e);case 3:r=n.sent,c=r.data,t({type:"POST_RECIPE",payload:{response:c}}),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),a={type:"POST_RECIPE",payload:{response:n.t0}},t(a);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e){return function(){var n=Object(x.a)(O.a.mark((function n(t){var r,c,a,i;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r="".concat(R).concat(e),n.next=4,C.deleteRequest(r);case 4:c=n.sent,a=c.data,t({type:"DELETE_RECIPE",payload:{response:a}}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),i={type:"DELETE_RECIPE",payload:{response:n.t0}},t(i);case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},I=function(e,n){return function(){var t=Object(x.a)(O.a.mark((function t(r){var c,a,i,u;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c="".concat(R).concat(n),t.next=4,C.putRequest(c,e);case 4:a=t.sent,i=a.data,r({type:"PUT_RECIPE",payload:{response:i}}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),u={type:"PUT_RECIPE",payload:{response:t.t0}},r(u);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},_=t(1),S=function(){var e=Object(o.c)((function(e){return e.recipes})),n=Object(o.c)((function(e){return e.apiResponse})),t=Object(o.b)();Object(r.useEffect)((function(){t(k())}),[t,n]);var c=function(e,n){t("remove"===e?T(n):w(n))};return Object(_.jsx)("div",{id:"list-recipes",children:"undefined"!==typeof e?e.length>0?Object(_.jsx)("ul",{className:"list",children:e.map((function(e){return Object(_.jsxs)("li",{className:"list-item",children:[Object(_.jsx)("button",{onClick:function(n){return c("remove",e.id)},children:"Delete"}),Object(_.jsx)("button",{onClick:function(n){return c("edit",e.id)},children:"Edit"}),Object(_.jsxs)("span",{children:[e.id,". ",Object(_.jsx)("u",{children:e.name})]}),Object(_.jsx)("ul",{children:e.ingredients.length>0&&e.ingredients.map((function(e,n){return Object(_.jsx)("li",{children:e},n)}))})]},e.id)}))}):Object(_.jsx)("p",{children:"No recipe found, please create one below"}):Object(_.jsx)("p",{children:"Loading..."})})},q=t(27),N=t(10),A=t(28),D=function(e){var n=e.recipe,t=e.handleInputChange,r=e.handleClick,c=function(){return""===n.ingredient};return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"text",name:"name",placeholder:"Enter recipe name",value:n.name,onChange:function(e){return t(e)}})}),Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("input",{type:"text",name:"ingredient",placeholder:"Enter recipe ingredient",value:n.ingredient,onChange:function(e){return t(e)}}),Object(_.jsx)("button",{onClick:function(e){return c()?null:r("add")},disabled:c(),children:"Add ingredient"})]})]})},G=function(e){var n=e.recipe,t=e.handleClick,r=function(){return""!==n.ingredient};return Object(_.jsxs)("div",{children:[n.name&&Object(_.jsxs)("p",{children:["Name: ",n.name]}),n.ingredients.length>0&&Object(_.jsx)("p",{children:"Ingredients:"}),Object(_.jsx)("ul",{children:n.ingredients.map((function(e,n){return Object(_.jsxs)("li",{children:[e,Object(_.jsx)("button",{onClick:function(n){return r()?null:t("delete",e)},disabled:r(),children:"Delete"}),Object(_.jsx)("button",{onClick:function(n){return r()?null:t("edit",e)},disabled:r(),children:"Edit"})]},n)}))})]})},L=(t(58),function(){var e=Object(o.b)(),n=Object(o.c)((function(e){return e.recipe})),t=Object(r.useCallback)((function(){return"undefined"!==typeof n}),[n]),c=Object(r.useState)({id:null,name:"",ingredient:"",ingredients:[]}),a=Object(A.a)(c,2),i=a[0],u=a[1];Object(r.useEffect)((function(){u({id:t()?n.id:null,name:t()?n.name:"",ingredient:"",ingredients:t()?n.ingredients:[]})}),[n,t]);var s=function(){return""===i.name||0===i.ingredients.length||""!==i.ingredient},d=function(e,n){u({id:"edit"===e?i.id:null,name:i.name,ingredient:"delete"===e?i.ingredient:"edit"===e?i.ingredients.find((function(e){return e===n})):"",ingredients:"delete"===e||"edit"===e?i.ingredients.filter((function(e){return e!==n})):[].concat(Object(q.a)(i.ingredients),[i.ingredient])})},l=function(){u({id:null,name:"",ingredient:"",ingredients:[]}),e(k())};return Object(_.jsxs)("div",{id:"create-recipe",children:[Object(_.jsx)(D,{recipe:i,handleInputChange:function(e){var n=e.target,t=n.name,r=n.value;u((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(N.a)({},t,r))}))},handleClick:d}),Object(_.jsx)(G,{recipe:i,handleClick:d}),Object(_.jsx)("button",{onClick:function(r){return s()?null:function(){var r={name:i.name,ingredients:i.ingredients};t()?e(I(r,n.id)):e(P(r)),l()}()},disabled:s(),className:"save-btn",children:"Save Recipe"}),!s()&&Object(_.jsx)("button",{onClick:function(e){return l()},className:"cancel-btn",children:"Cancel Recipe"})]})}),F=(t(59),function(e){var n=e.apiResponse;return Object(_.jsx)("div",{id:"confirmation",children:"string"===typeof n?n:"Recipe with id ".concat(n," has been created")})}),U=function(){var e=Object(o.c)((function(e){return e.apiResponse}));return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(S,{}),Object(_.jsx)(L,{}),"undefined"!==typeof e&&Object(_.jsx)(F,{apiResponse:e})]})},B=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,61)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))},J=Object(u.b)(h,Object(u.a)(s.a));i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(o.a,{store:J,children:Object(_.jsx)(U,{})})}),document.getElementById("root")),B()}},[[60,1,2]]]);
//# sourceMappingURL=main.05b0a7c7.chunk.js.map